<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Formulario de Reporte - CorreQ</title>
<style>
  body {
    font-family: "Segoe UI", sans-serif;
    background: linear-gradient(135deg, #f0f4f8, #e0ecf7);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 30px;
  }

  form {
    background: white;
    padding: 25px 30px;
    border-radius: 15px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 500px;
  }

  h2 {
    text-align: center;
    color: #0056b3;
    margin-bottom: 10px;
  }

  label {
    display: block;
    margin-top: 12px;
    font-weight: 600;
    color: #333;
  }

  input, select, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border: 1px solid #ccc;
    border-radius: 8px;
    font-size: 15px;
  }

  textarea {
    resize: vertical;
    min-height: 60px;
  }

  button {
    background-color: #0078d7;
    color: white;
    font-weight: bold;
    border: none;
    margin-top: 20px;
    cursor: pointer;
    transition: 0.3s;
  }

  button:hover {
    background-color: #0056b3;
  }

  .hidden {
    display: none;
  }

  .grupo {
    border-left: 4px solid #0078d7;
    padding-left: 10px;
    margin-top: 15px;
  }

  .pequeño {
    font-size: 13px;
    color: #777;
    text-align: center;
    margin-top: 15px;
  }
</style>
</head>
<body>
<form id="formulario" method="POST" action="https://script.google.com/macros/s/AKfycbwXXXXXXXXXXXX/exec">
  <h2>Formulario de Reporte - CorreQ</h2>

  <label>Fecha y hora</label>
  <input type="datetime-local" id="fechaHora" name="FechaHora" readonly />

  <label>Nombre completo</label>
  <input type="text" name="NombreCompleto" placeholder="Escriba su nombre" required />

  <label>Tipo de reporte</label>
  <select name="TipoReporte" id="tipoReporte" required>
    <option value="">Seleccione una opción</option>
    <option value="Infraestructura">Infraestructura</option>
    <option value="Equipo Médico">Equipo Médico</option>
  </select>

  <!-- SECCIÓN INFRAESTRUCTURA -->
  <div id="infraestructura" class="hidden grupo">
    <label>Área específica</label>
    <select name="AreaInfraestructura">
      <option value="">Seleccione</option>
      <option value="Recepción">Recepción</option>
      <option value="Consultorio 1">Consultorio 1</option>
      <option value="Consultorio 2">Consultorio 2</option>
      <option value="Sala de Espera">Sala de Espera</option>
      <option value="Baños">Baños</option>
    </select>

    <label>Ubicación específica</label>
    <select name="UbicacionInfraestructura">
      <option value="">Seleccione</option>
      <option value="Piso 1">Piso 1</option>
      <option value="Piso 2">Piso 2</option>
      <option value="Sótano">Sótano</option>
    </select>

    <label>Sede</label>
    <select name="SedeInfraestructura">
      <option value="">Seleccione</option>
      <option value="Sede 1 - Principal">Sede 1 - Principal</option>
      <option value="Sede 2 - Norte">Sede 2 - Norte</option>
      <option value="Sede 3 - Sur">Sede 3 - Sur</option>
    </select>

    <label>Clasificación de prioridad</label>
    <select name="PrioridadInfraestructura">
      <option value="">Seleccione</option>
      <option value="Alta">Alta</option>
      <option value="Media">Media</option>
      <option value="Baja">Baja</option>
    </select>

    <label>Categoría del reporte</label>
    <select name="CategoriaInfraestructura" id="categoriaInfra">
      <option value="">Seleccione</option>
      <option value="Eléctrico">Eléctrico</option>
      <option value="Plomería">Plomería</option>
      <option value="Mobiliario">Mobiliario</option>
      <option value="Computo">Equipo de Cómputo</option>
    </select>

    <div id="subCategoriaInfra" class="hidden">
      <label>Subcategoría</label>
      <select name="SubcategoriaInfraestructura">
        <option value="">Seleccione</option>
        <option value="Tomacorriente dañado">Tomacorriente dañado</option>
        <option value="Interruptor averiado">Interruptor averiado</option>
        <option value="Fuga de agua">Fuga de agua</option>
        <option value="Daño en silla">Daño en silla</option>
        <option value="Pantalla sin señal">Pantalla sin señal</option>
      </select>
    </div>

    <label>Descripción detallada</label>
    <textarea name="DescripcionInfraestructura" placeholder="Describa brevemente la novedad..."></textarea>
  </div>

  <!-- SECCIÓN EQUIPO MÉDICO -->
  <div id="equipoMedico" class="hidden grupo">
    <label>Equipo a reportar</label>
    <select name="EquipoMedico">
      <option value="">Seleccione</option>
      <option value="Tensiómetro">Tensiómetro</option>
      <option value="Desfibrilador">Desfibrilador</option>
      <option value="Electrocardiógrafo">Electrocardiógrafo</option>
      <option value="Báscula pediátrica">Báscula pediátrica</option>
      <option value="Monitor de signos vitales">Monitor de signos vitales</option>
    </select>

    <label>Sede</label>
    <select name="SedeEquipo">
      <option value="">Seleccione</option>
      <option value="Sede 1 - Principal">Sede 1 - Principal</option>
      <option value="Sede 2 - Norte">Sede 2 - Norte</option>
      <option value="Sede 3 - Sur">Sede 3 - Sur</option>
    </select>

    <label>Área</label>
    <select name="AreaEquipo">
      <option value="">Seleccione</option>
      <option value="Urgencias">Urgencias</option>
      <option value="Laboratorio">Laboratorio</option>
      <option value="Consulta Externa">Consulta Externa</option>
      <option value="Hospitalización">Hospitalización</option>
    </select>

    <label>Ubicación específica</label>
    <input type="text" name="UbicacionEquipo" placeholder="Ej. Camilla 2, Consultorio 5" />

    <label>Daño a reportar</label>
    <textarea name="DanioEquipo" placeholder="Describa el daño del equipo..."></textarea>

    <label>Prioridad del caso</label>
    <select name="PrioridadEquipo">
      <option value="">Seleccione</option>
      <option value="Alta">Alta</option>
      <option value="Media">Media</option>
      <option value="Baja">Baja</option>
    </select>
  </div>

  <button type="submit">Enviar reporte</button>
  <p class="pequeño">© CorreQ – Mantenimiento Biomédico</p>
</form>

<script>
  // Fecha y hora automáticas
  document.getElementById("fechaHora").value = new Date().toISOString().slice(0,16);

  // Mostrar secciones según tipo
  const tipo = document.getElementById("tipoReporte");
  const infra = document.getElementById("infraestructura");
  const equipo = document.getElementById("equipoMedico");
  tipo.addEventListener("change", () => {
    infra.classList.add("hidden");
    equipo.classList.add("hidden");
    if (tipo.value === "Infraestructura") infra.classList.remove("hidden");
    if (tipo.value === "Equipo Médico") equipo.classList.remove("hidden");
  });

  // Subcategoría según categoría Infraestructura
  const categoriaInfra = document.getElementById("categoriaInfra");
  const subInfra = document.getElementById("subCategoriaInfra");
  categoriaInfra.addEventListener("change", () => {
    if (categoriaInfra.value) subInfra.classList.remove("hidden");
    else subInfra.classList.add("hidden");
  });
</script>
</body>
</html>


