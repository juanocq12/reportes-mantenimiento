<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario de Reportes - CorreQ</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #f4f6f8;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      padding: 25px 35px;
    }
    h1 {
      text-align: center;
      color: #004a8f;
      margin-bottom: 10px;
    }
    h2 {
      color: #007bff;
      border-bottom: 2px solid #007bff20;
      padding-bottom: 5px;
    }
    label {
      display: block;
      margin-top: 12px;
      font-weight: 600;
    }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      margin-top: 5px;
      font-size: 15px;
    }
    textarea { resize: vertical; }
    .hidden { display: none; }
    button {
      background-color: #007bff;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
      width: 100%;
      font-size: 16px;
    }
    button:hover { background-color: #0056b3; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Formulario de Reportes - CorreQ</h1>

    <form id="correqForm">
      <!-- Campos autom√°ticos -->
      <h2>Datos generales</h2>
      <label>Fecha del reporte:</label>
      <input type="text" id="fecha" name="fecha" readonly>

      <label>Hora del reporte:</label>
      <input type="text" id="hora" name="hora" readonly>

      <label>Nombre del reportante:</label>
      <input type="text" name="nombre" required>

      <label>Tipo de reporte:</label>
      <select id="tipoReporte" name="tipoReporte" required onchange="mostrarSeccion()">
        <option value="">Seleccione...</option>
        <option value="Infraestructura">üèóÔ∏è Infraestructura</option>
        <option value="Equipo M√©dico">‚öôÔ∏è Equipo M√©dico</option>
      </select>

      <!-- Secci√≥n Infraestructura -->
      <div id="infraestructura" class="hidden">
        <h2>Reporte de Infraestructura</h2>

        <label>√Årea espec√≠fica:</label>
        <select name="areaInfra">
          <option>Recepci√≥n</option>
          <option>Urgencias</option>
          <option>Consulta externa</option>
          <option>Laboratorio cl√≠nico</option>
          <option>Farmacia</option>
          <option>Rayos X</option>
          <option>Odontolog√≠a</option>
          <option>Terapias</option>
          <option>Mantenimiento</option>
          <option>Administraci√≥n</option>
        </select>

        <label>Ubicaci√≥n espec√≠fica:</label>
        <select name="ubicacionInfra">
          <option>Sala de espera</option>
          <option>Pasillo principal</option>
          <option>Ba√±os</option>
          <option>Piso 1</option>
          <option>Piso 2</option>
          <option>Cuarto de m√°quinas</option>
          <option>Oficina de coordinaci√≥n</option>
          <option>Bodega</option>
        </select>

        <label>Sede donde est√° ubicado:</label>
        <select name="sedeInfra">
          <option>Sede Principal</option>
          <option>Sede Centro</option>
          <option>Sede Norte</option>
          <option>Sede 3</option>
          <option>Sede 4</option>
        </select>

        <label>Clasificaci√≥n de prioridad:</label>
        <select name="prioridadInfra">
          <option>Urgente (6 h)</option>
          <option>Prioritario (48 h)</option>
          <option>Programado (192 h)</option>
        </select>

        <label>Categor√≠a del reporte:</label>
        <select name="categoriaInfra">
          <option>El√©ctrico</option>
          <option>Plomer√≠a</option>
          <option>Iluminaci√≥n</option>
          <option>Aire acondicionado</option>
          <option>Pintura</option>
          <option>Mobiliario</option>
          <option>Otros</option>
        </select>

        <label>Descripci√≥n detallada:</label>
        <textarea name="descripcionInfra" rows="4" placeholder="Describa el problema..."></textarea>
      </div>

      <!-- Secci√≥n Equipo M√©dico -->
      <div id="equipoMedico" class="hidden">
        <h2>Reporte de Equipo M√©dico</h2>

        <label>Equipo a reportar:</label>
        <select name="equipoMedico">
          <option>B√°scula pedi√°trica</option>
          <option>Desfibrilador</option>
          <option>Electrocauterio</option>
          <option>Autoclave</option>
          <option>Tensi√≥metro</option>
          <option>Centr√≠fuga</option>
          <option>Monitor de signos vitales</option>
          <option>Succionador</option>
          <option>Nebulizador</option>
          <option>Term√≥metro infrarrojo</option>
        </select>

        <label>Sede donde se ubica:</label>
        <select name="sedeEquipo">
          <option>Sede Principal</option>
          <option>Sede Centro</option>
          <option>Sede Norte</option>
          <option>Sede 3</option>
          <option>Sede 4</option>
        </select>

        <label>√Årea:</label>
        <select name="areaEquipo">
          <option>Urgencias</option>
          <option>Consulta externa</option>
          <option>Laboratorio</option>
          <option>Odontolog√≠a</option>
          <option>Terapias</option>
          <option>Mantenimiento</option>
        </select>

        <label>Ubicaci√≥n espec√≠fica:</label>
        <input type="text" name="ubicacionEquipo" placeholder="Ej: Mesa de procedimientos ‚Äì consultorio 2">

        <label>Da√±o o falla reportada:</label>
        <textarea name="descripcionEquipo" rows="4" placeholder="Describa el da√±o o la falla..."></textarea>

        <label>Prioridad del caso:</label>
        <select name="prioridadEquipo">
          <option>Cr√≠tica</option>
          <option>Alta</option>
          <option>Media</option>
          <option>Baja</option>
        </select>
      </div>

      <button type="submit">Enviar reporte</button>
    </form>
  </div>

  <script>
    // Fecha y hora autom√°ticas
    const fecha = new Date();
    document.getElementById('fecha').value = fecha.toLocaleDateString();
    document.getElementById('hora').value = fecha.toLocaleTimeString();

    // Mostrar secciones seg√∫n el tipo de reporte
    function mostrarSeccion() {
      const tipo = document.getElementById('tipoReporte').value;
      document.getElementById('infraestructura').classList.add('hidden');
      document.getElementById('equipoMedico').classList.add('hidden');
      if (tipo === "Infraestructura") {
        document.getElementById('infraestructura').classList.remove('hidden');
      } else if (tipo === "Equipo M√©dico") {
        document.getElementById('equipoMedico').classList.remove('hidden');
      }
    }

    // Env√≠o al script de Google Apps Script (reemplace la URL por la suya)
    const scriptURL = "https://script.google.com/macros/s/SEU_SCRIPT_ID/exec";
    const form = document.getElementById('correqForm');

    form.addEventListener('submit', e => {
      e.preventDefault();
      fetch(scriptURL, { method: 'POST', body: new FormData(form)})
        .then(response => alert("‚úÖ Reporte enviado con √©xito"))
        .catch(error => alert("‚ùå Error al enviar el formulario"));
      form.reset();
    });
  </script>
</body>
</html>


